<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="java">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin</title>
    <link rel="stylesheet" href="/bootstrap-5.3.2-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assests/css/style.css">
    <link rel="shortcut icon" href="/assests/srcPic/x.png" type="image/x-icon">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script th:src="@{/assests/js/UserManagement.js}"></script>

    <style>
        .max-width-col {
            max-width: 128px;
        }
    </style>

    <style>
        #fileInput {
            display: none;
        }

        .custom-file-label {
            cursor: pointer;
            padding: 10px 20px;
            background-color: #909498;
            color: #fff;

        }

        .custom-file-label:hover {
            background-color: #9a9fa4;
        }

        #previewImage {
            width: 200px;
            height: 200px;
            object-fit: cover;
            margin-top: 20px;
        }
    </style>

    <script>
        const services = new UserManagement();
    </script>

    <script type="text/javascript">
        $(document).ready(function () {
            console.log("Test kinda done")
            services.loadInit();
        })
    </script>
</head>

<body class="bg-black" ng-app="myApp" ng-Controller="AdminController">
<div class="d-block d-lg-none">
    <div id="mobileNav" style="color: rgb(231,227,223);">
        <nav class="navbar  navbar-expand-lg navbar-dark" aria-label="Mobile Navigation">
            <div class="container-sm">

                <button type="button" class="navbar-toggler" data-bs-toggle="offcanvas" data-bs-target="#slide_menu"
                        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fa-solid fa-bars"></i>
                </button>

                <a href="#" class="navbar-brand" title="Swappa">
                    <img class="img-fluid"
                         src="https://static.swappa.com/static/images/logos/swappa_wordmark_ffffff_drop_e4611b.svg"
                         alt="Swappa Logo">
                </a>

                <button type="button" class="navbar-toggler" data-bs-toggle="offcanvas"
                        data-bs-target="#slide_search" aria-controls="navbarSupportedContent" aria-expanded="false"
                        aria-label="Search">
                    <i class="fa-solid fa-search" aria-hidden="true"></i>
                </button>
            </div>
        </nav>
    </div>

</div>
<!-- mainNav -->
<div class="d-none d-lg-block">
    <!-- first-nav -->
    <div class="stNav" style="color: rgb(231,227,223);">
        <nav class="navbar navbar-expand-lg  navbar-dark">
            <div class="container d-block">
                <div class="d-flex justify-content-between align-items-center">
                    <ul class="navbar-nav" role="presentation">
                        <li class="nav-item">
                            <a class="navbar-brand d-block text-center pt-2" href="#">
                                <img class="img-fluid"
                                     src="https://static.swappa.com/static/images/logos/swappa_wordmark_ffffff_drop_e4611b.svg"
                                     width="167px" height="35px" alt="Bootstrap">
                            </a>
                        </li>
                    </ul>
                    <ul class="navbar-nav" role="presentation">


                        <li class="nav-item">
                            <a href="#!/cart" class="nav-link position-relative">

                                <i class="fa-solid fa-bell"></i>
                                <span ng-bind="cartLen"
                                      class="position-absolute top-0 start-100 translate-middle-x px-2 text-bg-cf badge rounded-pill">
                                        1 <span class="visually-hidden">Cart Items</span>
                                    </span>

                            </a>
                        </li>
                    </ul>
                </div>

            </div>
        </nav>
    </div>
</div>

<div class="container-fluid  bg-body-secondary" style="height: 800px;">
    <div class="row">
        <div class="col-xl-3 col-lg-12 mt-4">
            <div class="card">
                <div class="card-header bg-black text-center">
                    <a class="text-white bg-gradient-primary" href="../pages/tables.html">
                        <h5 class="m-0"><strong>USERS MANAGEMENT</strong></h5>
                    </a>
                </div>
                <div class="card-body pt-2">
                    <div class="align-items-start">
                        <div class="nav flex-column nav-pills me-3" id="v-pills-tab" role="tablist"
                             aria-orientation="vertical">
                            <button class="nav-link mt-1 text-black active" id="v-pills-home-tab"
                                    data-bs-toggle="pill" data-bs-target="#v-pills-home" type="button" role="tab"
                                    aria-controls="v-pills-home" aria-selected="true">Account Information
                            </button>
                            <button class="nav-link mt-1 text-black" id="v-pills-home-product"
                                    data-bs-toggle="pill" data-bs-target="#v-pills-product" type="button" role="tab"
                                    aria-controls="v-pills-product" aria-selected="false">ACCESS PRODUCT
                            </button>
                            <a class="nav-link mt-1 text-black" href="/admin/logout">Log Out
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-9 col-lg-12">
            <div class="tab-content" id="v-pills-tabContent">
                <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel"
                     aria-labelledby="v-pills-home-tab" tabindex="0">
                    <div class="card my-4">
                        <div class="card-header p-0 bg-dark-subtle position-relative mt-2 mx-3 z-index-2">
                            <div
                                    class="bg-gradient-primary shadow-primary border-radius-lg pt-4 pb-3 d-flex justify-content-between">
                                <h5 class="text-black ps-3 d-flex align-items-center mb-0">SYSTEM'S USERS
                                </h5>
                                <button type="button" class="btn btn-success mb-0 me-3 rounded-circle sidenav"
                                        data-bs-target="#exampleModalToggle" data-bs-toggle="modal"
                                        style="padding: 7px 12px 7px 12px;">
                                    <i class="fa-solid fa-plus " aria-hidden="true"></i>
                                </button>
                            </div>
                        </div>
                        <div class="card-body px-0 mx-3 pb-2">
                            <div class="table-responsive p-0" id="tableUserContainer">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane" id="v-pills-product" role="tabpanel"
                     aria-labelledby="v-pills-home-product" tabindex="0">
                    <div class="card my-4">
                        <div class="card-header p-0 bg-dark-subtle position-relative mt-2 mx-3 z-index-2">
                            <div class="bg-gradient-primary shadow-primary border-radius-lg pt-4 pb-3 d-flex justify-content-between">
                                <h5 class="text-black ps-3 d-flex align-items-center mb-0">ACCESS PRODUCT
                                </h5>
                                <button type="button" class="btn btn-success mb-0 me-3 rounded-circle sidenav"
                                        data-bs-target="#exampleModalToggle" data-bs-toggle="modal"
                                        style="padding: 7px 12px 7px 12px;">
                                    <i class="fa-solid fa-plus " aria-hidden="true"></i>
                                </button>
                            </div>
                        </div>
                        <div class="card-body px-0 mx-3 pb-2">

<!--                            viết body vào đây-->
                            <div class="table-responsive p-0" id="tableUserContainer1">

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--

insert modal

-->
<div class="modal fade" id="exampleModalToggle" aria-hidden="true" aria-labelledby="exampleModalToggleLabel"
     tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="insertedUserModal">User's Information</h1>
                <button type="button" class="btn m-0" data-bs-dismiss="modal" aria-label="Close"><i
                        class="fa-solid fa-xmark fa-xl" aria-hidden="true"></i></button>
            </div>
            <div class="modal-body" id="insertModalBody">
                <div class="mb-2 ">
                    <label for="inUsername" class="form-label">Username</label>
                    <input type="text" class="form-control ps-3" id="inUsername"
                           aria-describedby="basic-addon3 basic-addon4" style="border: 1px solid #d2d6da;">
                </div>
                <div class="mb-2 ">
                    <label for="inFullname" class="form-label">Fullname</label>
                    <input type="text" class="form-control ps-3" id="inFullname"
                           aria-describedby="basic-addon3 basic-addon4" style="border: 1px solid #d2d6da;">
                </div>
                <div class="mb-2 ">
                    <label for="inEmail" class="form-label">Email</label>
                    <input type="email" class="form-control ps-3" id="inEmail"
                           aria-describedby="basic-addon3 basic-addon4" style="border: 1px solid #d2d6da;">
                </div>

                <div class="mb-2 ">
                    <label for="inPass" class="form-label">Password</label>
                    <input type="password" class="form-control ps-3" id="inPass" aria-describedby=""
                           style="border: 1px solid #d2d6da;">
                </div>
                <div class="mb-2 ">
                    <label for="inConfirmPass" class="form-label">Confirm password</label>
                    <input id="inConfirmPass" class="form-control ps-3 pe-3" type="password"
                           style="border: 1px solid #d2d6da;">

                </div>
<!--                <div class="mb-2 ">-->
<!--                    <label class="form-label me-3 m-0">Gender</label>-->
<!--                    <input id="ingenderMale" class="" type="radio" name=inGender"-->
<!--                           style="border: 1px solid #d2d6da;"> Male-->
<!--                    <input id="ingenderFemale" class="ms-1" type="radio" name="inGender"-->
<!--                           style="border: 1px solid #d2d6da;"> Female-->
<!--                </div>-->
                <div class="mb-2 ">
                    <label for="inRole" class="form-label me-3 m-0">Role</label>
                    <select class="form-select" id="inRole" aria-label="Default select example">
                        <option value="1">Admin</option>
                        <option value="2">Manager</option>
                        <option value="3">User</option>
                    </select>
                </div>
                <div class="mb-2">
                    <label for="inDescription" class="form-label">Description</label>
                    <textarea class="form-control" id="inDescription" rows="3"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <!-- <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button> -->
                <button type="button" class="btn btn-success" data-bs-dismiss="modal" onclick="services.insertNewUser()">
                    Add new user
                </button>
            </div>
        </div>
    </div>
</div>


<!-- modal sửa -->
<div class="modal fade modal-lg" id="exampleModalSua1" aria-hidden="true" aria-labelledby="exampleModalToggleLabel"
     tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="updateUserModal">User's Infomation</h1>
                <button type="button" class="btn m-0" data-bs-dismiss="modal" aria-label="Close"><i
                        class="fa-solid fa-xmark fa-xl" aria-hidden="true"></i></button>
            </div>
            <div class="modal-body" id="updateUserModalBody">

                <button type="button" class="btn btn-primary" data-bs-dismiss="modal" onclick="services.updateUser()">
                    Save changes
                </button>
            </div>
        </div>
    </div>
</div>
<!-- Modal -->
<div class="modal fade" id="exampleModalXoa" tabindex="-1" aria-labelledby="exampleModalXoa" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Confirm delete user?</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">Are your sure to delete this user out of your system?</div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success" data-bs-dismiss="modal" onclick="services.disableUser()">I'm sure!</button>
            </div>
        </div>
    </div>
</div>


<!-- footer -->
<footer style="background-color: rgb(18,17,13); color: rgb(231,227,223);">
    <div class="container pt-2 pb-2">
        <div class="row row-cols-2 row-cols-md-3 row-cols-lg-6">

        </div>
        <div class="row row-cols-1 row-cols-md-3">
            <div class="col d-flex justify-content-center align-items-center">
                <div class=" text-white">
                    <a href="https://www.facebook.com/profile.php?id=100031628760243" style="color: white">
                        <i class="fa-brands fa-square-facebook fs-1"></i>
                    </a>
                    <a href="https://www.facebook.com/profile.php?id=100031628760243" style="color: white">
                        <i class="fa-brands fa-square-instagram fs-1"></i>
                    </a>
                    <a href="https://www.facebook.com/profile.php?id=100031628760243" style="color: white">
                        <i class="fa-brands fa-youtube fs-1"></i>
                    </a>
                    <a href="https://www.facebook.com/profile.php?id=100031628760243" style="color: white">
                        <i class="fa-brands fa-linkedin fs-1"></i>
                    </a>
                    <a href="https://www.facebook.com/profile.php?id=100031628760243" style="color: white">
                        <i class="fa-brands fa-square-reddit fs-1"></i>
                    </a>
                </div>
            </div>
            <div class="col text-center ">
                <a href="./index.html"><img
                        src="https://static.swappa.com/static/images/logos/swappa_wordmark_ffffff.svg"
                        class="img-fluid" alt=""></a>
            </div>
            <div class="col text-center text-white d-flex justify-content-center align-items-center">
                <p class="fs-5">Copyright © 2023-2024 -M2M-</p>
            </div>
        </div>

    </div>
</footer>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
<script src="/node_modules/angular/angular.min.js"></script>
<script src="/bootstrap-5.3.2-dist/js/bootstrap.bundle.min.js"></script>
<script src="https://kit.fontawesome.com/c22bed0de0.js" crossorigin="anonymous"></script>
<script src="/node_modules/angular/angular.route.min.js"></script>
<script src="/assests/js/app_admin.js"></script>
<script src="/assests/js/script.js"></script>


</body>

<!--<script>-->
<!--    $.ajax({-->
<!--        url: '/api-admin/users/getAllUsers',-->
<!--        method: 'GET',-->
<!--        success: (response) => {-->
<!--            console.log(response);-->
<!--        },-->
<!--        error: (xhr, status, error) => {-->
<!--            console.error("Error:", error);-->
<!--        }-->
<!--    });-->
<!--</script>-->
<!--<script>-->
<!--    document.getElementById('fileInput').addEventListener('change', function () {-->
<!--        var file = this.files[0];-->
<!--        if (file) {-->
<!--            var reader = new FileReader();-->
<!--            reader.onload = function (event) {-->
<!--                document.getElementById('previewImage').setAttribute('src', event.target.result);-->
<!--                document.getElementById('previewImage').style.display = 'block';-->
<!--            }-->
<!--            reader.readAsDataURL(file);-->
<!--        }-->
<!--    });-->
<!--</script>-->

</html>